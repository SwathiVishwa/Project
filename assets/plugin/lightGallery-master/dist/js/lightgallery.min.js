!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(a)}):"object"==typeof exports?module.exports=c(require("jquery")):c(d.jQuery)}(this,function(b){!function(){function a(f,c){if(this.el=f,this.$el=b(f),this.s=b.extend({},d,c),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw"When using dynamic mode, you must also define dynamicEl as an Array."}return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart" in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=b(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(b(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var d={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6000,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};a.prototype.init=function(){var c=this;c.s.preload>c.$items.length&&(c.s.preload=c.$items.length);var e=window.location.hash;e.indexOf("lg="+this.s.galleryId)>0&&(c.index=parseInt(e.split("&slide=")[1],10),b("body").addClass("lg-from-hash"),b("body").hasClass("lg-on")||(setTimeout(function(){c.build(c.index)}),b("body").addClass("lg-on"))),c.s.dynamic?(c.$el.trigger("onBeforeOpen.lg"),c.index=c.s.index||0,b("body").hasClass("lg-on")||setTimeout(function(){c.build(c.index),b("body").addClass("lg-on")})):c.$items.on("click.lgcustom",function(h){try{h.preventDefault(),h.preventDefault()}catch(f){h.returnValue=!1}c.$el.trigger("onBeforeOpen.lg"),c.index=c.s.index||c.$items.index(this),b("body").hasClass("lg-on")||(c.build(c.index),b("body").addClass("lg-on"))})},a.prototype.build=function(c){var e=this;e.structure(),b.each(b.fn.lightGallery.modules,function(f){e.modules[f]=new b.fn.lightGallery.modules[f](e.el)}),e.slide(c,!1,!1,!1),e.s.keyPress&&e.keyPress(),e.$items.length>1&&(e.arrow(),setTimeout(function(){e.enableDrag(),e.enableSwipe()},50),e.s.mousewheel&&e.mousewheel()),e.counter(),e.closeGallery(),e.$el.trigger("onAfterOpen.lg"),e.$outer.on("mousemove.lg click.lg touchstart.lg",function(){e.$outer.removeClass("lg-hide-items"),clearTimeout(e.hideBartimeout),e.hideBartimeout=setTimeout(function(){e.$outer.addClass("lg-hide-items")},e.s.hideBarsDelay)}),e.$outer.trigger("mousemove.lg")},a.prototype.structure=function(){var e,i="",o="",n=0,c="",m=this;for(b("body").append('<div class="lg-backdrop"></div>'),b(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),n=0;n<this.$items.length;n++){i+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1&&(o='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(c='<div class="lg-sub-html"></div>'),e='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+i+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+o+c+"</div></div>",b("body").append(e),this.$outer=b(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),m.setTop(),b(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){m.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var p=this.$outer.find(".lg-inner");p.css("transition-timing-function",this.s.cssEasing),p.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){b(".lg-backdrop").addClass("in")}),setTimeout(function(){m.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=b(window).scrollTop()},a.prototype.setTop=function(){if("100%"!==this.s.height){var c=b(window).height(),h=(c-parseInt(this.s.height,10))/2,e=this.$outer.find(".lg");c>=parseInt(this.s.height,10)?e.css("top",h+"px"):e.css("top","0px")}},a.prototype.doCss=function(){var c=function(){var i=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,j=0;for(j=0;j<i.length;j++){if(i[j] in e.style){return !0}}};return c()?!0:!1},a.prototype.isVideo=function(o,i){var p;if(p=this.s.dynamic?this.s.dynamicEl[i].html:this.$items.eq(i).attr("data-html"),!o&&p){return{html5:!0}}var n=o.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),c=o.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),e=o.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),m=o.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return n?{youtube:n}:c?{vimeo:c}:e?{dailymotion:e}:m?{vk:m}:void 0},a.prototype.counter=function(){this.s.counter&&b(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},a.prototype.addHtml=function(i){var k,c,l=null;if(this.s.dynamic?this.s.dynamicEl[i].subHtmlUrl?k=this.s.dynamicEl[i].subHtmlUrl:l=this.s.dynamicEl[i].subHtml:(c=this.$items.eq(i),c.attr("data-sub-html-url")?k=c.attr("data-sub-html-url"):(l=c.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!l&&(l=c.attr("title")||c.find("img").first().attr("alt")))),!k){if("undefined"!=typeof l&&null!==l){var e=l.substring(0,1);("."===e||"#"===e)&&(l=this.s.subHtmlSelectorRelative&&!this.s.dynamic?c.find(l).html():b(l).html())}else{l=""}}".lg-sub-html"===this.s.appendSubHtmlTo?k?this.$outer.find(this.s.appendSubHtmlTo).load(k):this.$outer.find(this.s.appendSubHtmlTo).html(l):k?this.$slide.eq(i).load(k):this.$slide.eq(i).append(l),"undefined"!=typeof l&&null!==l&&(""===l?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[i])},a.prototype.preload=function(e){var c=1,h=1;for(c=1;c<=this.s.preload&&!(c>=this.$items.length-e);c++){this.loadContent(e+c,!1,0)}for(h=1;h<=this.s.preload&&!(0>e-h);h++){this.loadContent(e-h,!1,0)}},a.prototype.loadContent=function(i,r,p){var l,c,s,g,o,m,y=this,e=!1,v=function(j){for(var w=[],t=[],k=0;k<j.length;k++){var x=j[k].split(" ");""===x[0]&&x.splice(0,1),t.push(x[0]),w.push(x[1])}for(var q=b(window).width(),z=0;z<w.length;z++){if(parseInt(w[z],10)>q){c=t[z];break}}};if(y.s.dynamic){if(y.s.dynamicEl[i].poster&&(e=!0,s=y.s.dynamicEl[i].poster),m=y.s.dynamicEl[i].html,c=y.s.dynamicEl[i].src,y.s.dynamicEl[i].responsive){var f=y.s.dynamicEl[i].responsive.split(",");v(f)}g=y.s.dynamicEl[i].srcset,o=y.s.dynamicEl[i].sizes}else{if(y.$items.eq(i).attr("data-poster")&&(e=!0,s=y.$items.eq(i).attr("data-poster")),m=y.$items.eq(i).attr("data-html"),c=y.$items.eq(i).attr("href")||y.$items.eq(i).attr("data-src"),y.$items.eq(i).attr("data-responsive")){var h=y.$items.eq(i).attr("data-responsive").split(",");v(h)}g=y.$items.eq(i).attr("data-srcset"),o=y.$items.eq(i).attr("data-sizes")}var n=!1;y.s.dynamic?y.s.dynamicEl[i].iframe&&(n=!0):"true"===y.$items.eq(i).attr("data-iframe")&&(n=!0);var L=y.isVideo(c,i);if(!y.$slide.eq(i).hasClass("lg-loaded")){if(n){y.$slide.eq(i).prepend('<div class="lg-video-cont" style="max-width:'+y.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+c+'"  allowfullscreen="true"></iframe></div></div>')}else{if(e){var u="";u=L&&L.youtube?"lg-has-youtube":L&&L.vimeo?"lg-has-vimeo":"lg-has-html5",y.$slide.eq(i).prepend('<div class="lg-video-cont '+u+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+s+'" /></div></div>')}else{L?(y.$slide.eq(i).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),y.$el.trigger("hasVideo.lg",[i,c,m])):y.$slide.eq(i).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+c+'" /></div>')}}if(y.$el.trigger("onAferAppendSlide.lg",[i]),l=y.$slide.eq(i).find(".lg-object"),o&&l.attr("sizes",o),g){l.attr("srcset",g);try{picturefill({elements:[l[0]]})}catch(M){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&y.addHtml(i),y.$slide.eq(i).addClass("lg-loaded")}y.$slide.eq(i).find(".lg-object").on("load.lg error.lg",function(){var j=0;p&&!b("body").hasClass("lg-from-hash")&&(j=p),setTimeout(function(){y.$slide.eq(i).addClass("lg-complete"),y.$el.trigger("onSlideItemLoad.lg",[i,p||0])},j)}),L&&L.html5&&!e&&y.$slide.eq(i).addClass("lg-complete"),r===!0&&(y.$slide.eq(i).hasClass("lg-complete")?y.preload(i):y.$slide.eq(i).find(".lg-object").on("load.lg error.lg",function(){y.preload(i)}))},a.prototype.slide=function(s,e,n,h){var i=this.$outer.find(".lg-current").index(),l=this;if(!l.lGalleryOn||i!==s){var o=this.$slide.length,f=l.lGalleryOn?this.s.speed:0;if(!l.lgBusy){if(this.s.download){var r;r=l.s.dynamic?l.s.dynamicEl[s].downloadUrl!==!1&&(l.s.dynamicEl[s].downloadUrl||l.s.dynamicEl[s].src):"false"!==l.$items.eq(s).attr("data-download-url")&&(l.$items.eq(s).attr("data-download-url")||l.$items.eq(s).attr("href")||l.$items.eq(s).attr("data-src")),r?(b("#lg-download").attr("href",r),l.$outer.removeClass("lg-hide-download")):l.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[i,s,e,n]),l.lgBusy=!0,clearTimeout(l.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){l.addHtml(s)},f),this.arrowDisable(s),h||(i>s?h="prev":s>i&&(h="next")),e){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var c,y;o>2?(c=s-1,y=s+1,0===s&&i===o-1?(y=0,c=o-1):s===o-1&&0===i&&(y=0,c=o-1)):(c=0,y=1),"prev"===h?l.$slide.eq(y).addClass("lg-next-slide"):l.$slide.eq(c).addClass("lg-prev-slide"),l.$slide.eq(s).addClass("lg-current")}else{l.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===h?(this.$slide.eq(s).addClass("lg-prev-slide"),this.$slide.eq(i).addClass("lg-next-slide")):(this.$slide.eq(s).addClass("lg-next-slide"),this.$slide.eq(i).addClass("lg-prev-slide")),setTimeout(function(){l.$slide.removeClass("lg-current"),l.$slide.eq(s).addClass("lg-current"),l.$outer.removeClass("lg-no-trans")},50)}l.lGalleryOn?(setTimeout(function(){l.loadContent(s,!0,0)},this.s.speed+50),setTimeout(function(){l.lgBusy=!1,l.$el.trigger("onAfterSlide.lg",[i,s,e,n])},this.s.speed)):(l.loadContent(s,!0,l.s.backdropDuration),l.lgBusy=!1,l.$el.trigger("onAfterSlide.lg",[i,s,e,n])),l.lGalleryOn=!0,this.s.counter&&b("#lg-counter-current").text(s+1)}}},a.prototype.goToNextSlide=function(e){var c=this,h=c.s.loop;e&&c.$slide.length<3&&(h=!1),c.lgBusy||(c.index+1<c.$slide.length?(c.index++,c.$el.trigger("onBeforeNextSlide.lg",[c.index]),c.slide(c.index,e,!1,"next")):h?(c.index=0,c.$el.trigger("onBeforeNextSlide.lg",[c.index]),c.slide(c.index,e,!1,"next")):c.s.slideEndAnimatoin&&!e&&(c.$outer.addClass("lg-right-end"),setTimeout(function(){c.$outer.removeClass("lg-right-end")},400)))},a.prototype.goToPrevSlide=function(e){var c=this,h=c.s.loop;e&&c.$slide.length<3&&(h=!1),c.lgBusy||(c.index>0?(c.index--,c.$el.trigger("onBeforePrevSlide.lg",[c.index,e]),c.slide(c.index,e,!1,"prev")):h?(c.index=c.$items.length-1,c.$el.trigger("onBeforePrevSlide.lg",[c.index,e]),c.slide(c.index,e,!1,"prev")):c.s.slideEndAnimatoin&&!e&&(c.$outer.addClass("lg-left-end"),setTimeout(function(){c.$outer.removeClass("lg-left-end")},400)))},a.prototype.keyPress=function(){var c=this;this.$items.length>1&&b(window).on("keyup.lg",function(f){c.$items.length>1&&(37===f.keyCode&&(f.preventDefault(),c.goToPrevSlide()),39===f.keyCode&&(f.preventDefault(),c.goToNextSlide()))}),b(window).on("keydown.lg",function(f){c.s.escKey===!0&&27===f.keyCode&&(f.preventDefault(),c.$outer.hasClass("lg-thumb-open")?c.$outer.removeClass("lg-thumb-open"):c.destroy())})},a.prototype.arrow=function(){var c=this;this.$outer.find(".lg-prev").on("click.lg",function(){c.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){c.goToNextSlide()})},a.prototype.arrowDisable=function(c){!this.s.loop&&this.s.hideControlOnEnd&&(c+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),c>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},a.prototype.setTranslate=function(e,c,h){this.s.useLeft?e.css("left",c):e.css({transform:"translate3d("+c+"px, "+h+"px, 0px)"})},a.prototype.touchMove=function(c,h){var e=h-c;Math.abs(e)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),e,0),this.setTranslate(b(".lg-prev-slide"),-this.$slide.eq(this.index).width()+e,0),this.setTranslate(b(".lg-next-slide"),this.$slide.eq(this.index).width()+e,0))},a.prototype.touchEnd=function(e){var c=this;"lg-slide"!==c.s.mode&&c.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){c.$outer.removeClass("lg-dragging"),0>e&&Math.abs(e)>c.s.swipeThreshold?c.goToNextSlide(!0):e>0&&Math.abs(e)>c.s.swipeThreshold?c.goToPrevSlide(!0):Math.abs(e)<5&&c.$el.trigger("onSlideClick.lg"),c.$slide.removeAttr("style")}),setTimeout(function(){c.$outer.hasClass("lg-dragging")||"lg-slide"===c.s.mode||c.$outer.removeClass("lg-slide")},c.s.speed+100)},a.prototype.enableSwipe=function(){var i=this,c=0,j=0,e=!1;i.s.enableSwipe&&i.isTouch&&i.doCss()&&(i.$slide.on("touchstart.lg",function(f){i.$outer.hasClass("lg-zoomed")||i.lgBusy||(f.preventDefault(),i.manageSwipeClass(),c=f.originalEvent.targetTouches[0].pageX)}),i.$slide.on("touchmove.lg",function(f){i.$outer.hasClass("lg-zoomed")||(f.preventDefault(),j=f.originalEvent.targetTouches[0].pageX,i.touchMove(c,j),e=!0)}),i.$slide.on("touchend.lg",function(){i.$outer.hasClass("lg-zoomed")||(e?(e=!1,i.touchEnd(j-c)):i.$el.trigger("onSlideClick.lg"))}))},a.prototype.enableDrag=function(){var i=this,l=0,k=0,c=!1,e=!1;i.s.enableDrag&&!i.isTouch&&i.doCss()&&(i.$slide.on("mousedown.lg",function(f){i.$outer.hasClass("lg-zoomed")||(b(f.target).hasClass("lg-object")||b(f.target).hasClass("lg-video-play"))&&(f.preventDefault(),i.lgBusy||(i.manageSwipeClass(),l=f.pageX,c=!0,i.$outer.scrollLeft+=1,i.$outer.scrollLeft-=1,i.$outer.removeClass("lg-grab").addClass("lg-grabbing"),i.$el.trigger("onDragstart.lg")))}),b(window).on("mousemove.lg",function(f){c&&(e=!0,k=f.pageX,i.touchMove(l,k),i.$el.trigger("onDragmove.lg"))}),b(window).on("mouseup.lg",function(f){e?(e=!1,i.touchEnd(k-l),i.$el.trigger("onDragend.lg")):(b(f.target).hasClass("lg-object")||b(f.target).hasClass("lg-video-play"))&&i.$el.trigger("onSlideClick.lg"),c&&(c=!1,i.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},a.prototype.manageSwipeClass=function(){var e=this.index+1,c=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?c=this.$slide.length-1:this.index===this.$slide.length-1&&(e=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),c>-1&&this.$slide.eq(c).addClass("lg-prev-slide"),this.$slide.eq(e).addClass("lg-next-slide")},a.prototype.mousewheel=function(){var c=this;c.$outer.on("mousewheel.lg",function(e){e.deltaY&&(e.deltaY>0?c.goToPrevSlide():c.goToNextSlide(),e.preventDefault())})},a.prototype.closeGallery=function(){var c=this,e=!1;this.$outer.find(".lg-close").on("click.lg",function(){c.destroy()}),c.s.closable&&(c.$outer.on("mousedown.lg",function(f){e=b(f.target).is(".lg-outer")||b(f.target).is(".lg-item ")||b(f.target).is(".lg-img-wrap")?!0:!1}),c.$outer.on("mouseup.lg",function(f){(b(f.target).is(".lg-outer")||b(f.target).is(".lg-item ")||b(f.target).is(".lg-img-wrap")&&e)&&(c.$outer.hasClass("lg-dragging")||c.destroy())}))},a.prototype.destroy=function(c){var e=this;c||(e.$el.trigger("onBeforeClose.lg"),b(window).scrollTop(e.prevScrollTop)),c&&(e.s.dynamic||this.$items.off("click.lg click.lgcustom"),b.removeData(e.el,"lightGallery")),this.$el.off(".lg.tm"),b.each(b.fn.lightGallery.modules,function(f){e.modules[f]&&e.modules[f].destroy()}),this.lGalleryOn=!1,clearTimeout(e.hideBartimeout),this.hideBartimeout=!1,b(window).off(".lg"),b("body").removeClass("lg-on lg-from-hash"),e.$outer&&e.$outer.removeClass("lg-visible"),b(".lg-backdrop").removeClass("in"),setTimeout(function(){e.$outer&&e.$outer.remove(),b(".lg-backdrop").remove(),c||e.$el.trigger("onCloseAfter.lg")},e.s.backdropDuration+50)},b.fn.lightGallery=function(c){return this.each(function(){if(b.data(this,"lightGallery")){try{b(this).data("lightGallery").init()}catch(f){console.error("lightGallery has not initiated properly")}}else{b.data(this,"lightGallery",new a(this,c))}})},b.fn.lightGallery.modules={}}()});